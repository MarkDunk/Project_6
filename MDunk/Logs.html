<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>MDunk's Logbook </title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	</head>
	<body>
		<h1> Project 6 Logbook </h1>
		<div class="p-3 mb-4">
		<h3>5-16-24</h3>
		<ul>
			<li>Found .js gantt library; frappe-gantt</li>
			<li>Added a personal section to the website, if you are reading this you are already here.</li>
			<li>Looking into moving webserver over to node.js so that the front and back-end will both be handled by js.</li>
			<li>Selected MCU for LoRa gateway. Following reference design to develop a module that can go on different carrier boards. First board will have LoRa radio, ETH, CAN, and USB only.</li>
			<li>Gantt chart is WIP</li>
			<li>Module board features decided: MCU (STM32H7R3), Clocks, SWDebug, 3.3 and opt 1.8V lin reg</li>
			<li>Module board will be sent for MFG 5/21/24</li>
			<li>Carrier board will have fp for RFM95 module, CAN transciever, Eth transciever (100BaseTx), RJ45, USB-C for 5V and DFU, SD card
			</li>
		</ul>


		<h3>6-9-24</h3>
		<ul>
			<li>Potential write after read wherein the website would update a repeat request of a serviced floor if the floor was serviced during the PHP logic. e.g. req floor 2, req floor 3, read 010, floor 2 serviced, updated to 110, this re-reqests floor 2.</li>
				<li>Node could be used with linux CAN sockets but the async would need to be disabled and the webserver remade.</li>
			</ul>
			<h3>6-13-24</h3>
		<ul>
			<li>Figured out how to bitwise manipulate data within a row. This allows for a semi-atomic update of the data and prevents the previus issue of write after read.</li>
				<li>From above state of the elevator is kept in 1 row. This is updated by the website and the CAN code. It is also read by the website to display the state. It contains an ID, floor requests, the direction of the elevator, and the current floor.</li>
					<li>Would like to move away from polling the DB for web updates. Not sure how to do this atm.</li>
						<li>The CAN code holds the actual state of the elevator and updates the DB accordingly.</li>
						<li>Each reqest should also be placed in the logging DB.</li>
					<li>Should add clean-up code for the logging DB, run on start-up or after fixed interval. Clears all logs older than ? 24HRs? 30Days? TBD</li>
				</li>
			</ul>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		</div>
		<b>
	</body>
	<b>
	<footer class="pt-4 border-top"> <p><b>Fly early, crash often.</p></footer>
</html>